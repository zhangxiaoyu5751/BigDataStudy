
- [MySQL 索引相关问题](#mysql-索引相关问题)
    - [常见的索引类型](#常见的索引类型)
        - [哈希索引](#哈希索引)
            - [哈希索引的限制](#哈希索引的限制)
        - [b+树索引（O(logn)）](#b树索引ologn)
                - [为什么不用红黑树或者二叉排序树？](#为什么不用红黑树或者二叉排序树)
            - [为什么不用b树？](#为什么不用b树)
        - [全文索引](#全文索引)
        - [空间索引](#空间索引)

# MySQL 索引相关问题

## 常见的索引类型

### 哈希索引
    哈希索引是是基于哈希表实现的，只有精确匹配索引的所有列才有效

    索引本身只存储对应的哈希值，所以使用哈希索引查找速度非常快，但是哈希索引也有限制

#### 哈希索引的限制
- 哈希索引只包含哈希值和索引指针，而不存储字段的值，所以不能直接使用索引中的值来避免读取行。但是由于哈希索引是在内存中读取，所以对性能影响并不是很明显
- 哈希索引并不是按照索引值顺序存储的，所以无法用来排序
- 哈希索引并不支持最左前缀匹配。因为哈希索引始终是使用索引列的全部内容进行计算和匹配的
- 哈希索引只支持等值查询，并不支持范围查询
- 数据量大的话 可能会形成哈希冲突，如果发生哈希冲突，维护变得很困难

### b+树索引（O(logn)）

- 索引都是按照索引值排序的，很适合范围查找数据。相邻的叶子节点之间是有指针相连的 而b树非叶子节点也是存储数据的。同时b树的叶子节点之间没有指针相连。
- B+树的设计可以允许数据分批加载，同时树的高度较低，提高查找效率。
  

  **B树在提高了IO性能的同时并没有解决元素遍历的我效率低下的问题，正是为了解决这个问题，B+树应用而生。B+树只需要去遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而B树不支持这样的操作或者说效率太低。**


##### 为什么不用红黑树或者二叉排序树？

    答：树的查询时间跟树的高度有关，B+树是一棵多路搜索树可以降低树的高度，提高查找效率

#### 为什么不用b树？
    因为B树不管叶子节点还是非叶子节点，都会保存数据，这样导致在非叶子节点中能保存的指针数量变少，
    指针少的情况下要保存大量数据，只能增加树的高度，导致IO操作变多，查询性能变低。

### 全文索引

### 空间索引
